(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8217],{20264:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/roles",function(){return r(34351)}])},34351:function(e,s,r){"use strict";r.r(s);var i=r(85893),n=r(67294),t=r(18745),o=r(61730),a=r(60762),l=r(71919),d=r(60990),c=r(96788),m=r(56912),x=r(65806),p=r(20607),u=r(93454),h=r(26541),b=r(95611),j=r(68573),v=r(84677),Z=r(84925),f=r(10018),g=r(73416),P=r(3350),w=r(8267),y=r(69819),C=r(87066);s.default=()=>{let e=(0,t.Z)();(0,o.Z)(e.breakpoints.down("sm"));let[s,r]=(0,n.useState)(""),[k,R]=(0,n.useState)({viewPlaces:!1,editPlaces:!1,deletePlaces:!1,viewPersons:!1,editPersons:!1,deletePersons:!1,viewRoles:!1,editRoles:!1,deleteRoles:!1}),[_,S]=(0,n.useState)({open:!1,message:"",severity:"success"}),z=e=>{R({...k,[e.target.name]:e.target.checked})},N=async()=>{if(!s.trim()){S({open:!0,message:"لطفاً نام نقش را وارد کنید",severity:"error"});return}let e={name:s,permissions:JSON.stringify(k)};try{await C.Z.post("http://localhost:3001/users/role",e),S({open:!0,message:"نقش با موفقیت ایجاد شد",severity:"success"}),r(""),R({viewPlaces:!1,editPlaces:!1,deletePlaces:!1,viewPersons:!1,editPersons:!1,deletePersons:!1,viewRoles:!1,editRoles:!1,deleteRoles:!1})}catch(e){S({open:!0,message:"خطا در ایجاد نقش. لطفا دوباره تلاش کنید",severity:"error"})}},E=(e,s)=>{"clickaway"!==s&&S({..._,open:!1})},O=s=>{let{title:r,icon:n,permissions:t}=s;return(0,i.jsx)(a.Z,{elevation:0,sx:{height:"100%",backgroundColor:"background.paper",border:1,borderColor:"divider",borderRadius:2,transition:"all 0.3s ease","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}},children:(0,i.jsxs)(l.Z,{children:[(0,i.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[n,(0,i.jsx)(c.Z,{variant:"h6",color:"primary",children:r})]}),(0,i.jsx)(m.Z,{sx:{mb:2}}),(0,i.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:t.map(s=>{let{name:r,label:n}=s;return(0,i.jsx)(x.Z,{control:(0,i.jsx)(p.Z,{checked:k[r],onChange:z,name:r,sx:{color:e.palette.primary.main,"&.Mui-checked":{color:e.palette.primary.main}}}),label:n,sx:{"& .MuiFormControlLabel-label":{fontSize:"0.9rem"}}},r)})})]})})};return(0,i.jsxs)(d.Z,{sx:{maxWidth:1200,margin:"0 auto",p:{xs:2,sm:3},minHeight:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsxs)(u.Z,{elevation:0,sx:{p:{xs:2,sm:3},borderRadius:2,backgroundColor:"background.paper",border:1,borderColor:"divider"},children:[(0,i.jsx)(d.Z,{sx:{mb:4},children:(0,i.jsx)(h.Z,{fullWidth:!0,label:"نام نقش",value:s,onChange:e=>r(e.target.value),variant:"outlined",InputProps:{startAdornment:(0,i.jsx)(b.Z,{position:"start",children:(0,i.jsx)(g.Z,{size:20})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,transition:"all 0.3s ease","&:hover":{"& > fieldset":{borderColor:"primary.main"}}}}})}),(0,i.jsxs)(j.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(j.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,i.jsx)(O,{title:"اماکن",icon:(0,i.jsx)(P.Z,{size:24}),permissions:[{name:"viewPlaces",label:"مشاهده اماکن"},{name:"editPlaces",label:"ایجاد/ویرایش اماکن"},{name:"deletePlaces",label:"حذف اماکن"}]})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,i.jsx)(O,{title:"اشخاص",icon:(0,i.jsx)(w.Z,{size:24}),permissions:[{name:"viewPersons",label:"مشاهده اشخاص"},{name:"editPersons",label:"ایجاد/ویرایش اشخاص"},{name:"deletePersons",label:"حذف اشخاص"}]})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,i.jsx)(O,{title:"نقش‌ها",icon:(0,i.jsx)(g.Z,{size:24}),permissions:[{name:"viewRoles",label:"مشاهده نقش‌ها"},{name:"editRoles",label:"ایجاد/ویرایش نقش‌ها"},{name:"deleteRoles",label:"حذف نقش‌ها"}]})})]}),(0,i.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,i.jsx)(v.Z,{variant:"contained",color:"primary",onClick:N,startIcon:(0,i.jsx)(y.Z,{size:20}),sx:{width:{xs:"100%",sm:"50%",md:"30%"},py:1.5,borderRadius:2,textTransform:"none",fontSize:"1rem",fontWeight:500,boxShadow:"none",transition:"all 0.3s ease","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-2px)"}},children:"ذخیره نقش"})})]}),(0,i.jsx)(Z.Z,{open:_.open,autoHideDuration:6e3,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,i.jsx)(f.Z,{onClose:E,severity:_.severity,variant:"filled",sx:{width:"100%"},children:_.message})})]})}}},function(e){e.O(0,[6838,9311,1349,8573,2761,6363,2888,9774,179],function(){return e(e.s=20264)}),_N_E=e.O()}]);