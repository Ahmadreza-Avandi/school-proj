(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8227],{20834:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onlinecam/class1",function(){return a(39719)}])},39719:function(t,e,a){"use strict";a.r(e);var n=a(85893),r=a(67294),s=a(18745),o=a(60990),l=a(93454),c=a(96788),i=a(97182);e.default=()=>{let t=(0,s.Z)(),[e,a]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!0),d=(0,r.useRef)(null),p=async()=>{try{let t=await fetch("http://localhost:5000/status"),{online:e}=await t.json();a(e),d.current&&e&&(d.current.src="http://localhost:5000/video_feed?t=".concat(Date.now()))}catch(t){a(!1)}finally{h(!1)}};return(0,r.useEffect)(()=>{let t=setInterval(p,2e3);return()=>clearInterval(t)},[]),(0,n.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:t.palette.background.default},children:(0,n.jsxs)(l.Z,{elevation:6,sx:{p:3,width:"95%",maxWidth:800,bgcolor:t.palette.background.paper},children:[(0,n.jsxs)(c.Z,{variant:"h4",gutterBottom:!0,sx:{color:t.palette.text.primary},children:["دوربین زنده",(0,n.jsx)("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",marginLeft:10,backgroundColor:e?"#4CAF50":"#F44336",boxShadow:t.shadows[2]}})]}),u?(0,n.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,n.jsx)(i.Z,{})}):(0,n.jsx)(o.Z,{component:"img",ref:d,src:"http://localhost:5000/video_feed?t=".concat(Date.now()),sx:{width:"100%",height:"auto",maxHeight:"70vh",borderRadius:2,border:"2px solid ".concat(e?t.palette.success.main:t.palette.error.main),opacity:e?1:.6,filter:e?"none":"grayscale(80%)",transition:"all 0.3s ease"},alt:"تصویر زنده دوربین",onError:()=>{a(!1)}})]})})}}},function(t){t.O(0,[2888,9774,179],function(){return t(t.s=20834)}),_N_E=t.O()}]);