(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3353],{45098:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(87462),s=n(63366),a=n(63390),i=n(4953),o=n(17172),l=n(86523);let u=["ownerState"],d=["variants"],m=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function c(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}let p=(0,o.Z)(),f=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function x({defaultTheme:e,theme:t,themeId:n}){return 0===Object.keys(t).length?e:t[n]||t}function h(e,t){let{ownerState:n}=t,a=(0,s.Z)(t,u),i="function"==typeof e?e((0,r.Z)({ownerState:n},a)):e;if(Array.isArray(i))return i.flatMap(e=>h(e,(0,r.Z)({ownerState:n},a)));if(i&&"object"==typeof i&&Array.isArray(i.variants)){let{variants:e=[]}=i,t=(0,s.Z)(i,d);return e.forEach(e=>{let s=!0;"function"==typeof e.props?s=e.props((0,r.Z)({ownerState:n},a,n)):Object.keys(e.props).forEach(t=>{(null==n?void 0:n[t])!==e.props[t]&&a[t]!==e.props[t]&&(s=!1)}),s&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style((0,r.Z)({ownerState:n},a,n)):e.style))}),t}return i}var Z=function(e={}){let{themeId:t,defaultTheme:n=p,rootShouldForwardProp:o=c,slotShouldForwardProp:u=c}=e,d=e=>(0,l.Z)((0,r.Z)({},e,{theme:x((0,r.Z)({},e,{defaultTheme:n,themeId:t}))}));return d.__mui_systemSx=!0,(e,l={})=>{var p;let Z;(0,a.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:g,slot:v,skipVariantsResolver:b,skipSx:y,overridesResolver:j=(p=f(v))?(e,t)=>t[p]:null}=l,w=(0,s.Z)(l,m),k=void 0!==b?b:v&&"Root"!==v&&"root"!==v||!1,_=y||!1,W=c;"Root"===v||"root"===v?W=o:v?W=u:"string"==typeof e&&e.charCodeAt(0)>96&&(W=void 0);let C=(0,a.default)(e,(0,r.Z)({shouldForwardProp:W,label:Z},w)),S=e=>"function"==typeof e&&e.__emotion_real!==e||(0,i.P)(e)?s=>h(e,(0,r.Z)({},s,{theme:x({theme:s.theme,defaultTheme:n,themeId:t})})):e,N=(s,...a)=>{let i=S(s),o=a?a.map(S):[];g&&j&&o.push(e=>{let s=x((0,r.Z)({},e,{defaultTheme:n,themeId:t}));if(!s.components||!s.components[g]||!s.components[g].styleOverrides)return null;let a=s.components[g].styleOverrides,i={};return Object.entries(a).forEach(([t,n])=>{i[t]=h(n,(0,r.Z)({},e,{theme:s}))}),j(e,i)}),g&&!k&&o.push(e=>{var s;let a=x((0,r.Z)({},e,{defaultTheme:n,themeId:t}));return h({variants:null==a||null==(s=a.components)||null==(s=s[g])?void 0:s.variants},(0,r.Z)({},e,{theme:a}))}),_||o.push(d);let l=o.length-a.length;if(Array.isArray(s)&&l>0){let e=Array(l).fill("");(i=[...s,...e]).raw=[...s.raw,...e]}let u=C(i,...o);return e.muiName&&(u.muiName=e.muiName),u};return C.withConfig&&(N.withConfig=C.withConfig),N}}()},20539:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(35971);function s(e){let{theme:t,name:n,props:s}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,s):s}},29628:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(20539),s=n(96682);function a({props:e,name:t,defaultTheme:n,themeId:a}){let i=(0,s.Z)(n);return a&&(i=i[a]||i),(0,r.Z)({theme:i,name:t,props:e})}},4485:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/newperson",function(){return n(63330)}])},11032:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(63366),s=n(87462),a=n(67294),i=n(90512),o=n(34867),l=n(94780),u=n(14142),d=n(29628),m=n(45098),c=n(17172),p=n(85893);let f=["className","component","disableGutters","fixed","maxWidth","classes"],x=(0,c.Z)(),h=(0,m.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`maxWidth${(0,u.Z)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Z=e=>(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:x}),g=(e,t)=>{let{classes:n,fixed:r,disableGutters:s,maxWidth:a}=e,i={root:["root",a&&`maxWidth${(0,u.Z)(String(a))}`,r&&"fixed",s&&"disableGutters"]};return(0,l.Z)(i,e=>(0,o.ZP)(t,e),n)};var v=n(66643),b=n(77527),y=n(44001),j=function(e={}){let{createStyledComponent:t=h,useThemeProps:n=Z,componentName:o="MuiContainer"}=e,l=t(({theme:e,ownerState:t})=>(0,s.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,n)=>{let r=e.breakpoints.values[n];return 0!==r&&(t[e.breakpoints.up(n)]={maxWidth:`${r}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>(0,s.Z)({},"xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}));return a.forwardRef(function(e,t){let a=n(e),{className:u,component:d="div",disableGutters:m=!1,fixed:c=!1,maxWidth:x="lg"}=a,h=(0,r.Z)(a,f),Z=(0,s.Z)({},a,{component:d,disableGutters:m,fixed:c,maxWidth:x}),v=g(Z,o);return(0,p.jsx)(l,(0,s.Z)({as:d,ownerState:Z,className:(0,i.Z)(v.root,u),ref:t},h))})}({createStyledComponent:(0,b.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,v.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,y.i)({props:e,name:"MuiContainer"})})},63330:function(e,t,n){"use strict";n.r(t);var r=n(85893),s=n(67294),a=n(11032),i=n(60990),o=n(93454),l=n(96788),u=n(26541),d=n(84677),m=n(87536),c=n(87066);t.default=()=>{let{handleSubmit:e,control:t,setError:n,reset:p}=(0,m.cI)(),[f,x]=(0,s.useState)(""),h=e=>{e.target.files&&e.target.files.length>0&&x(e.target.files[0].name)},Z=async e=>{try{let t=new FormData;e.file&&e.file.length>0&&t.append("file",e.file[0]),t.append("firstName",e.firstName),t.append("lastName",e.lastName),t.append("nationalCode",e.nationalCode),t.append("studentId",e.studentId);let r=await c.Z.post("/api/new-person",t);200===r.status?(console.log("Data saved successfully:",r.data),p(),x("")):(console.error("Failed to save data:",r.statusText),n("firstName",{message:"Failed to save data"}))}catch(e){console.error("Failed to save data:",e),n("firstName",{message:"Failed to save data"})}};return(0,r.jsx)(a.Z,{component:"main",maxWidth:"xs",sx:{padding:{xs:2,sm:3},marginTop:{xs:4,sm:8},display:"flex",justifyContent:"center"},children:(0,r.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:(0,r.jsxs)(o.Z,{elevation:3,sx:{padding:{xs:2,sm:3},maxWidth:"100%",width:{xs:"100%",sm:"400px"},boxSizing:"border-box",borderRadius:{xs:2,sm:3}},children:[(0,r.jsx)(l.Z,{component:"h1",variant:"h5",sx:{marginBottom:{xs:2,sm:3},textAlign:"center",fontSize:{xs:"1.2rem",sm:"1.5rem"}},children:"صفحه شخص جدید"}),(0,r.jsxs)("form",{onSubmit:e(Z),children:[(0,r.jsx)(i.Z,{sx:{marginBottom:{xs:2,sm:3}},children:(0,r.jsx)(m.Qr,{name:"firstName",control:t,defaultValue:"",render:e=>{let{field:t}=e;return(0,r.jsx)(u.Z,{...t,fullWidth:!0,label:"نام",variant:"outlined",size:"small"})}})}),(0,r.jsx)(i.Z,{sx:{marginBottom:{xs:2,sm:3}},children:(0,r.jsx)(m.Qr,{name:"lastName",control:t,defaultValue:"",render:e=>{let{field:t}=e;return(0,r.jsx)(u.Z,{...t,fullWidth:!0,label:"نام خانوادگی",variant:"outlined",size:"small"})}})}),(0,r.jsx)(i.Z,{sx:{marginBottom:{xs:2,sm:3}},children:(0,r.jsx)(m.Qr,{name:"nationalCode",control:t,defaultValue:"",render:e=>{let{field:t}=e;return(0,r.jsx)(u.Z,{...t,fullWidth:!0,label:"کد ملی",variant:"outlined",size:"small"})}})}),(0,r.jsx)(i.Z,{sx:{marginBottom:{xs:2,sm:3}},children:(0,r.jsx)(m.Qr,{name:"studentId",control:t,defaultValue:"",render:e=>{let{field:t}=e;return(0,r.jsx)(u.Z,{...t,fullWidth:!0,label:"شماره دانش‌آموزی",variant:"outlined",size:"small"})}})}),(0,r.jsxs)(i.Z,{sx:{marginBottom:{xs:2,sm:3}},children:[(0,r.jsx)(m.Qr,{name:"file",control:t,render:e=>{let{field:t}=e;return(0,r.jsx)("input",{type:"file",onChange:e=>{t.onChange(e.target.files),h(e)},style:{display:"block",width:"100%"},accept:"image/*"})}}),(0,r.jsxs)(l.Z,{variant:"body2",sx:{marginTop:1,textAlign:"center",fontSize:{xs:"0.9rem",sm:"1rem"}},children:["آپلود عکس: ",f||"هیچ فایلی انتخاب نشده است"]})]}),(0,r.jsx)(d.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{fontSize:{xs:"0.8rem",sm:"1rem"},padding:{xs:"10px 0",sm:"14px 0"}},children:"ثبت"})]})]})})})}}},function(e){e.O(0,[6838,9311,7536,2888,9774,179],function(){return e(e.s=4485)}),_N_E=e.O()}]);